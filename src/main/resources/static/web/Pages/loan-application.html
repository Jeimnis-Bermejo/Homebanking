<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transactions</title>
    <link rel="stylesheet" href="../style/style.css">
    <link rel="shortcut icon" href="../image/logo friend bank.png" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div id="app">

        <header class="bg-white flex justify-around h-32">
            <div class="flex flex-row items-center">
                <img class="h-36 w-36 " src="../image/logo friend bank.png" alt="Logo">
            </div>
            <nav class="flex gap-5 items-center   ">
                <a class="p-2 hover:underline text-[#311C7D] text-2xl font-serif " href="./Accounts.html">Accounts</a>
                <a class="p-2 hover:underline text-[#311C7D] text-2xl font-serif " href="./cards.html">Cards</a>
                <a class="p-2 hover:underline text-[#311C7D]  text-2xl font-serif" href="#">Loans</a>
                <a class="p-2 hover:underline text-[#311C7D]  text-2xl font-serif"
                    href="./transfer.html">Transactions</a>
            </nav>
            <div class="flex items-center">
                <img @click="logout()" src="../image/boton-salir-a-la-aplicacion.png" alt="logout">
            </div>
        </header>
        <main class=" bg-[#04B2D9] h-full flex flex-col gap-4 items-center ">
            <h2 class="text-5xl text-[rgb(4,35,38)] font-serif text-center m-5">Welcome!</h2>
            <form class="w-64 text-center border mb-8 bg-[#7E5EF2] border-[#311C7D] rounded-lg">

                <div id="loanTypeSection" class="mt-4">
                    <label for="loanType" class="text-xl text-white">Loan type:</label>
                    <select id="loanType" name="loanType"
                        class="rounded-lg p-4" v-model="loanType">
                        <option value="">Select Loan Type</option>
                        <option v-for="loan in loans" :value="loan">{{loan.name}} Max Amount: ${{loan.maxAmount}}
                        </option>
                    </select>
                </div>

                <div id="paymentsSection" class="mt-4">
                    <label for="payments" class="text-xl text-white">Payments:</label>
                    <select id="payments" name="payments"
                    class="rounded-lg p-4" v-model="payments">
                        <option selected value="1">Select the amount of payments</option>
                        <option v-for="payment in loanType.payments" :value="payment">{{payment}}</option>
                    </select>
                </div>

                <div id="destinationAccountSection" class="mt-4">
                    <label for="destinationAccountNumber" class="text-xl text-white">Destination Account:</label>
                    <select id="destinationAccountNumber" name="destinationAccountNumber"
                        class="rounded-lg p-4"
                        v-model="destinationAccountNumber">
                        <option selected value="">Select Destination Account</option>
                        <option v-for="account in accounts" :value="account.number">{{account.number}}
                            ${{account.balance}}</option>
                    </select>
                </div>

                <div class="mt-4">
                    <label for="amount" class="text-xl text-white">Loan Amount:</label>
                    <input type="number" :max="loanType.maxAmount" id="amount" name="amount"
                    class="rounded-lg p-4" v-model="amount">
                </div>

                <div v-show="payments>0&&amount>0" id="interestSection" class="mt-4">
                    <label for="interest" class="text-xl text-white">Each payment will be:</label>
                    <input type="text" id="interest" disabled name="interest"
                    class="rounded-lg p-4"
                        :value="amount/payments*1.2">
                </div>

                <button @click.prevent="createLoan" type="submit"
                class="p-4 rounded-lg bg-slate-50 mt-6">Apply for loan</button><br><br>
            </form>

        </main>

        <footer class=" flex h-14 justify-around items-center bg-[#042326] ">

            <h3 class="text-lg justify-center text-white">2023- All rights reserved</h3>
            <div class="flex gap-6">
                <img class="h-6 w-6" src="../image/facebook.png" alt="facebook">
                <img class="h-6 w-6" src="../image/whatsapp.png" alt="whatsapp">
                <img class="h-6 w-6" src="../image/logo instagram.png" alt="instagram">
            </div>
        </footer>



    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="../js/tailwind.config.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="../js/loan-application.js"></script>

</body>

</html>